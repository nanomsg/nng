---
version: tip
layout: manpage_v2
title: nng_tcp_options(5)
---
<h1>nng_tcp_options(5)</h1>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.21">
<title>nng_tcp_options(5)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./rouge-github.css">
</head>
<body class="article">
<div id="header">
<h1>nng_tcp_options(5)</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>nng_tcp_options - TCP-specific options</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="cp">#include</span> <span class="cpf">&lt;nng/nng.h&gt;</span><span class="cp">
</span>
<span class="cp">#define NNG_OPT_TCP_NODELAY    "tcp-nodelay"
#define NNG_OPT_TCP_KEEPALIVE  "tcp-keepalive"
#define NNG_OPT_TCP_BOUND_PORT "tcp-bound-port"</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This page documents the various standard options that can be set or
retrieved on objects using TCP.</p>
</div>
<div class="paragraph">
<p>The option names should always be used by their symbolic definitions.</p>
</div>
<div class="paragraph">
<p>In the following list of options, the name of the option is supplied,
along with the data type of the underlying value.</p>
</div>
<div class="paragraph">
<p>Some options are only meaningful or supported in certain contexts, or may
have other access restrictions.
An attempt has been made to include details about such restrictions in the
description of the option.</p>
</div>
<div class="paragraph">
<p>The following options are generally application to objects making use of
TCP/IP communications.</p>
</div>
<div class="sect2">
<h3 id="_tcp_options">TCP Options</h3>
<div id="NNG_OPT_TCP_NODELAY" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_TCP_NODELAY</code></dt>
<dd>
<p>(<code>bool</code>)
This option is used to disable (or enable) the use of Nagle&#8217;s algorithm
for TCP connections.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This setting may apply to transports that are built on top of TCP.
See the transport documentation for each transport for details.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When <code>true</code> (the default), messages are sent immediately by the underlying
TCP stream without waiting to gather more data.</p>
</div>
<div class="paragraph">
<p>When <code>false</code>, Nagle&#8217;s algorithm is enabled, and the TCP stream may
wait briefly in attempt to coalesce messages.
Nagle&#8217;s algorithm is useful on low-bandwidth connections to reduce overhead,
but it comes at a cost to latency.</p>
</div>
<div class="paragraph">
<p>When used on a dialer or a listener, the value affects how newly
created connections will be configured.</p>
</div>
</dd>
</dl>
</div>
<div id="NNG_OPT_TCP_KEEPALIVE" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_TCP_KEEPALIVE</code></dt>
<dd>
<p>(<code>bool</code>)
This option is used to enable the sending of keep-alive messages on
the underlying TCP stream.
This option is <code>false</code> by default.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This setting may apply to transports that are built on top of TCP.
See the transport documentation for each transport for details.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When enabled, if no messages are seen for a period of time, then
a zero length TCP message is sent with the ACK flag set in an attempt
to tickle some traffic from the peer.
If none is still seen (after some platform-specific number of retries and
timeouts), then the remote peer is presumed dead, and the connection is closed.</p>
</div>
<div class="paragraph">
<p>When used on a dialer or a listener, the value affects how newly
created connections will be configured.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This option has two purposes.
First, it can be used to detect dead peers on an otherwise quiescent network.
Second, it can be used to keep connection table entries in NAT and other
middleware from being expiring due to lack of activity.
</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
<div id="NNG_OPT_TCP_BOUND_PORT" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_TCP_BOUND_PORT</code></dt>
<dd>
<p>(<code>int</code>)
This option is available on listeners, after the listern has bound to
a port, and provides the port bound to in native byte order.
This is most useful when using a listener with an ephemeral port
(configured by using port 0 at configuration time), as it allows
the caller to determine the actual ephemeral port that was chosen by the
system.
While the value is of type <code>int</code>, it will be a legal TCP port number, that
is a value between 1 and 65535, inclusive.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_inherited_options">Inherited Options</h3>
<div class="paragraph">
<p>Generally, the following option values are also available for TCP objects,
when appropriate for the context:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="nng_options.5.html#NNG_OPT_LOCADDR"><code>NNG_OPT_LOCADDR</code></a></p>
</li>
<li>
<p><a href="nng_options.5.html#NNG_OPT_REMADDR"><code>NNG_OPT_REMADDR</code></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph text-left">
<p><a href="nng_tcp_dialer_getopt.3tcp.html">nng_tcp_dialer_getopt(3tcp)</a>,
<a href="nng_tcp_dialer_setopt.3tcp.html">nng_tcp_dialer_setopt(3tcp)</a>,
<a href="nng_tcp_getopt.3tcp.html">nng_tcp_getopt(3tcp)</a>,
<a href="nng_tcp_listener_getopt.3tcp.html">nng_tcp_listener_getopt(3tcp)</a>,
<a href="nng_tcp_listener_setopt.3tcp.html">nng_tcp_listener_setopt(3tcp)</a>,
<a href="nng_tcp_setopt.3tcp.html">nng_tcp_setopt(3tcp)</a>,
<a href="nng_options.5.html">nng_options(5)</a>
<a href="nng.7.html">nng(7)</a></p>
</div>
</div>
</div>
</div>
</body>
</html>
