---
version: tip
layout: manpage_v2
---
<h1>nng_mtx_lock(3supp)</h1>
<div class="sect1">
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>nng_mtx_lock - lock mutex</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span class="tok-cp">#include</span> <span class="tok-cpf">&lt;nng/nng.h&gt;</span><span class="tok-cp">
</span><span class="tok-cp">#include</span> <span class="tok-cpf">&lt;nng/supplemental/util/platform.h&gt;</span><span class="tok-cp">
</span><span class="tok-cp"></span>
<span class="tok-kt">void</span> <span class="tok-nf">nng_mtx_lock</span><span class="tok-p">(</span><span class="tok-n">nng_mtx</span> <span class="tok-o">*</span><span class="tok-n">mtx</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>nng_mtx_lock()</code> acquires exclusive ownership of the mutex <em>mtx</em>.
If the lock is already owned, this function will wait until the current
owner releases it with <a href="nng_mtx_unlock.3supp.html"><code>nng_mtx_unlock()</code></a>.</p>
</div>
<div class="paragraph">
<p>If multiple threads are waiting for the lock, the order of acquisition
is not specified.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A mutex can <em>only</em> be unlocked by the thread that locked it.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Mutex locks are <em>not</em> recursive; attempts to reacquire the
same mutex may result in deadlock or aborting the current program.
It is a programming error for the owner of a mutex to attempt to
reacquire it.
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><em>NNG</em> offers neither a non-blocking variant that can fail,
nor recursive mutexes.
This is by design, as <em>NNG</em> itself does not use such things,
and most often the need for them is the result of poor design.
If such capabilities are needed, they may be synthesized fairly
easily from mutexes and condition variables.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_return_values">RETURN VALUES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_errors">ERRORS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph text-left">
<p><a href="nng_cv_alloc.3supp.html">nng_cv_alloc(3supp)</a>,
<a href="nng_mtx_alloc.3supp.html">nng_mtx_alloc(3supp)</a>,
<a href="nng_mtx_unlock.3supp.html">nng_mtx_unlock(3supp)</a>,
<a href="nng.7.html">nng(7)</a></p>
</div>
</div>
</div>
