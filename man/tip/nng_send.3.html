---
version: tip
layout: manpage_v2
title: nng_send(3)
---
<h1>nng_send(3)</h1>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.21">
<title>nng_send(3)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./rouge-github.css">
</head>
<body class="article">
<div id="header">
<h1>nng_send(3)</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>nng_send - send data</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="cp">#include</span> <span class="cpf">&lt;nng/nng.h&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">nng_send</span><span class="p">(</span><span class="n">nng_socket</span> <span class="n">s</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span> <span class="kt">int</span> <span class="n">flags</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>nng_send()</code> function sends a message containing the <em>data</em> of
length <em>size</em> using the <a href="nng_socket.5.html">socket</a> <em>s</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The semantics of what sending a message means vary from protocol to
protocol, so examination of the protocol documentation is encouraged.
(For example, with an <a href="nng_pub.7.html"><em>pub</em></a> socket the data is broadcast, so that
any peers who have a suitable subscription will be able to receive it using
<a href="nng_recv.3.html"><code>nng_recv()</code></a> or a similar function.)
Furthermore, some protocols may not support sending data (such as
<a href="nng_sub.7.html"><em>sub</em></a>) or may require other conditions.
(For example, <a href="nng_rep.7.html"><em>rep</em></a> sockets cannot normally send data,
which are responses to requests, until they have first received a request.)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <em>flags</em> may contain either of (or neither of) the following values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_FLAG_NONBLOCK</code></dt>
<dd>
<p>The function returns immediately, regardless of whether
the socket is able to accept the data or not.  If the socket is unable
to accept the data (such as if backpressure exists because the peers
are consuming messages too slowly, or no peer is present), then the
function will return with <code>NNG_EAGAIN</code>.  If this flag is not specified,
then the function will block if such a condition exists.</p>
</dd>
<dt class="hdlist1"><code>NNG_FLAG_ALLOC</code></dt>
<dd>
<p>The <em>data</em> was allocated using <a href="nng_alloc.3.html"><code>nng_alloc()</code></a>, or was
obtained from a call to <a href="nng_recv.3.html"><code>nng_recv()</code></a> with
the <code>NNG_FLAG_ALLOC</code> flag.
If this function returns success, then the <em>data</em> is "owned" by the
function, and it will assume responsibility for calling
<a href="nng_free.3.html"><code>nng_free()</code></a> when it is no longer needed.
In the absence of this flag, the <em>data</em> is copied by the implementation
before the function returns to the caller.</p>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>NNG_FLAG_ALLOC</code> flag can be used to reduce data copies, thereby
increasing performance.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Regardless of the presence or absence of <code>NNG_FLAG_NONBLOCK</code>, there may
be queues between the sender and the receiver.
Furthermore, there is no guarantee that the message has actually been delivered.
Finally, with some protocols, the semantic is implicitly <code>NNG_FLAG_NONBLOCK</code>,
such as with <a href="nng_pub.7.html"><em>pub</em></a> sockets, which are best-effort delivery only.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
When using <code>NNG_FLAG_ALLOC</code>, it is important that the value of <em>size</em>
match the actual allocated size of the data.
Using an incorrect size results
in unspecified behavior, which may include heap corruption, program crashes,
or trans-dimensional mutation of the program&#8217;s author.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_return_values">RETURN VALUES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This function returns 0 on success, and non-zero otherwise.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_errors">ERRORS</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>NNG_EAGAIN</code>
</td>
<td class="hdlist2">
<p>The operation would block, but <code>NNG_FLAG_NONBLOCK</code> was specified.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ECLOSED</code>
</td>
<td class="hdlist2">
<p>The socket <em>s</em> is not open.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_EINVAL</code>
</td>
<td class="hdlist2">
<p>An invalid set of <em>flags</em> was specified.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_EMSGSIZE</code>
</td>
<td class="hdlist2">
<p>The value of <em>size</em> is too large.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ENOMEM</code>
</td>
<td class="hdlist2">
<p>Insufficient memory is available.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ENOTSUP</code>
</td>
<td class="hdlist2">
<p>The protocol for socket <em>s</em> does not support sending.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ESTATE</code>
</td>
<td class="hdlist2">
<p>The socket <em>s</em> cannot send data in this state.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ETIMEDOUT</code>
</td>
<td class="hdlist2">
<p>The operation timed out.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph text-left">
<p><a href="nng_alloc.3.html">nng_alloc(3)</a>,
<a href="nng_free.3.html">nng_free(3)</a>,
<a href="nng_recv.3.html">nng_recv(3)</a>,
<a href="nng_sendmsg.3.html">nng_sendmsg(3)</a>,
<a href="nng_strerror.3.html">nng_strerror(3)</a>,
<a href="nng_socket.5.html">nng_socket(5)</a>,
<a href="nng.7.html">nng(7)</a></p>
</div>
</div>
</div>
</div>
</body>
</html>
