---
version: tip
layout: manpage_v2
title: nng_stream_get(3str)
---
<h1>nng_stream_get(3str)</h1>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.21">
<title>nng_stream_get(3str)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./rouge-github.css">
</head>
<body class="article">
<div id="header">
<h1>nng_stream_get(3str)</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>nng_stream_get - get option from byte stream</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="cp">#include</span> <span class="cpf">&lt;nng/nng.h&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">nng_stream_get</span><span class="p">(</span><span class="n">nng_stream</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">opt</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">val</span><span class="p">,</span> <span class="kt">size_t</span> <span class="o">*</span><span class="n">sizep</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">nng_stream_get_bool</span><span class="p">(</span><span class="n">nng_stream</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">opt</span><span class="p">,</span> <span class="n">bool</span> <span class="o">*</span><span class="n">valp</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">nng_stream_get_int</span><span class="p">(</span><span class="n">nng_stream</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">opt</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">valp</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">nng_stream_get_ms</span><span class="p">(</span><span class="n">nng_stream</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">opt</span><span class="p">,</span> <span class="n">nng_duration</span> <span class="o">*</span><span class="n">valp</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">nng_stream_get_ptr</span><span class="p">(</span><span class="n">nng_stream</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">opt</span><span class="p">,</span> <span class="kt">void</span> <span class="o">**</span><span class="n">valp</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">nng_stream_get_size</span><span class="p">(</span><span class="n">nng_stream</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">opt</span><span class="p">,</span> <span class="kt">size_t</span> <span class="o">*</span><span class="n">valp</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">nng_stream_get_addr</span><span class="p">(</span><span class="n">nng_stream</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">opt</span><span class="p">,</span> <span class="n">nng_sockaddr</span> <span class="o">*</span><span class="n">valp</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">nng_stream_get_string</span><span class="p">(</span><span class="n">nng_stream</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">opt</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">valp</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">nng_stream_get_uint64</span><span class="p">(</span><span class="n">nng_stream</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">opt</span><span class="p">,</span> <span class="kt">uint64_t</span> <span class="o">*</span><span class="n">valp</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>nng_stream_get()</code> functions are used to retrieve option values for the
<a href="nng_stream.5.html">byte stream</a> <em>conn</em>.</p>
</div>
<div class="paragraph">
<p>The actual options that may be retrieved in this way vary.
A number of them are documented in
<a href="nng_options.5.html">nng_options(5)</a> and additional linked documents.</p>
</div>
<div class="sect2">
<h3 id="_forms">Forms</h3>
<div class="paragraph">
<p>In all of these forms, the option <em>opt</em> is retrieved from the connected
byte stream <em>s</em>.
The forms vary based on the type of the option they take.</p>
</div>
<div class="paragraph">
<p>The details of the type, size, and semantics of the option will depend
on the actual option, and will be documented with the option itself.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>nng_stream_get()</code></dt>
<dd>
<p>This function is untyped and can be used to retrieve the value of any option.
The caller must store a pointer to a buffer to receive the value in <em>val</em>,
and the size of the buffer shall be stored at the location referenced by
<em>sizep</em>.</p>
<div class="paragraph">
<p>When the function returns, the actual size of the data copied (or that
would have been copied if sufficient space were present) is stored at
the location referenced by <em>sizep</em>.
If the caller&#8217;s buffer is not large enough to hold the entire object,
then the copy is truncated.
Therefore the caller should check for truncation by verifying that the
returned size in <em>sizep</em> does not exceed the original buffer size.</p>
</div>
<div class="paragraph">
<p>It is acceptable to pass <code>NULL</code> for <em>val</em> if the value in <em>sizep</em> is zero.
This can be used to determine the size of the buffer needed to receive
the object.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
It may be easier to use one of the typed forms of this function.
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1"><code>nng_stream_get_bool()</code></dt>
<dd>
<p>This function is for options which take a Boolean (<code>bool</code>).</p>
</dd>
<dt class="hdlist1"><code>nng_stream_get_int()</code></dt>
<dd>
<p>This function is for options which take an integer (<code>int</code>).</p>
</dd>
<dt class="hdlist1"><code>nng_stream_get_ms()</code></dt>
<dd>
<p>This function is used to retrieve time
<a href="nng_duration.5.html">durations</a>
(such as timeouts), stored as a number of milliseconds.
(The special value <code>NNG_DURATION_INFINITE</code> means an infinite amount of time, and
the special value <code>NNG_DURATION_DEFAULT</code> means a context-specific default.)</p>
</dd>
<dt class="hdlist1"><code>nng_stream_get_ptr()</code></dt>
<dd>
<p>This function is used to retrieve a pointer to structured data.
The data referenced is generally managed using other functions.
Note that this form is somewhat special in that the object is generally
not copied, but instead the <strong>pointer</strong> to the object is copied.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Care must be taken to ensure that the application respects any
considerations about the lifetime of the underyling object.
See the documentation for the option for more specific guidance.
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1"><code>nng_stream_get_size()</code></dt>
<dd>
<p>This function is used to retrieve a size,
typically for buffer sizes, message maximum sizes, and similar options.</p>
</dd>
<dt class="hdlist1"><code>nng_stream_get_addr()</code></dt>
<dd>
<p>This function is used to retrieve a
<a href="nng_sockaddr.5.html">socket address</a>.</p>
</dd>
<dt class="hdlist1"><code>nng_stream_get_string()</code></dt>
<dd>
<p>This function is used to retrieve a <code>NULL</code>-terminated string.
This string is created from the source using
<a href="nng_strdup.3.html"><code>nng_strdup()</code></a>
and consequently must be freed by the caller using
<a href="nng_strfree.3.html"><code>nng_strfree()</code></a> when it is no longer needed.</p>
</dd>
<dt class="hdlist1"><code>nng_stream_get_uint64()</code></dt>
<dd>
<p>This function is used to retrieve a 64-bit unsigned value.
This is typically used for identifiers, network
numbers, and similar options.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_return_values">RETURN VALUES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This function returns 0 on success, and non-zero otherwise.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_errors">ERRORS</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>NNG_ECLOSED</code>
</td>
<td class="hdlist2">
<p>The connection is closed.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_EINVAL</code>
</td>
<td class="hdlist2">
<p>There was insufficient space to receive the object.
The amount of data actually needed is returned in <em>sizep</em>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ENOTSUP</code>
</td>
<td class="hdlist2">
<p>The option is not supported.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_EWRITEONLY</code>
</td>
<td class="hdlist2">
<p>The option may not read.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph text-left">
<p><a href="nng_strerror.3.html">nng_strerror(3)</a>,
<a href="nng_stream_set.3str.html">nng_stream_set(3str)</a>,
<a href="nng_options.5.html">nng_options(5)</a>,
<a href="nng_ipc_options.5.html">nng_ipc_options(5)</a>,
<a href="nng_tcp_options.5.html">nng_tcp_options(5)</a>,
<a href="nng_tls_options.5.html">nng_tls_options(5)</a>,
<a href="nng_stream.5.html">nng_stream(5)</a></p>
</div>
</div>
</div>
</div>
</body>
</html>
