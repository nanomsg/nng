---
version: tip
layout: manpage_v2
title: nng_ctx_sendmsg(3)
---
<h1>nng_ctx_sendmsg(3)</h1>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.21">
<title>nng_ctx_sendmsg(3)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./rouge-github.css">
</head>
<body class="article">
<div id="header">
<h1>nng_ctx_sendmsg(3)</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>nng_ctx_sendmsg - send message using context</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="cp">#include</span> <span class="cpf">&lt;nng/nng.h&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">nng_ctx_sendmsg</span><span class="p">(</span><span class="n">nng_ctx</span> <span class="n">c</span><span class="p">,</span> <span class="n">nng_msg</span> <span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="kt">int</span> <span class="n">flags</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>nng_ctx_sendmsg()</code> sends message <em>msg</em> using the context <em>ctx</em>.</p>
</div>
<div class="paragraph">
<p>If the function returns zero, indicating it has accepted the message for
delivery, then the <em>msg</em> is owned by the socket <em>s</em>, and the caller
must not make any further use of it.
The socket will free the message when it is finished.</p>
</div>
<div class="paragraph">
<p>If the function returns non-zero, then it is the caller&#8217;s responsibility
to dispose of the <em>msg</em>, which may include freeing it, sending it to
another socket, or simply trying again later.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The semantics of what sending a message means vary from protocol to
protocol, so examination of the protocol documentation is encouraged.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <em>flags</em> may contain the following value:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_FLAG_NONBLOCK</code></dt>
<dd>
<p>The function returns immediately, regardless of whether
the context is able to accept the data or not.
If the context is unable to accept the data (such as if backpressure exists
because the peers are consuming messages too slowly, or no peer is present),
then the function will return with <code>NNG_EAGAIN</code>.
If this flag is not specified, then the function will block if such a
condition exists.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Regardless of the presence or absence of <code>NNG_FLAG_NONBLOCK</code>, there may
be queues between the sender and the receiver.
Furthermore, there is no guarantee that the message has actually been delivered.
Finally, with some protocols, the semantic is implicitly <code>NNG_FLAG_NONBLOCK</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_return_values">RETURN VALUES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This function returns 0 on success, and non-zero otherwise.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_errors">ERRORS</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>NNG_EAGAIN</code>
</td>
<td class="hdlist2">
<p>The operation would block, but <code>NNG_FLAG_NONBLOCK</code> was specified.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ECLOSED</code>
</td>
<td class="hdlist2">
<p>The context or socket is not open.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_EINVAL</code>
</td>
<td class="hdlist2">
<p>An invalid set of <em>flags</em> was specified.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_EMSGSIZE</code>
</td>
<td class="hdlist2">
<p>The value of <em>size</em> is too large.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ENOMEM</code>
</td>
<td class="hdlist2">
<p>Insufficient memory is available.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ENOTSUP</code>
</td>
<td class="hdlist2">
<p>The protocol does not support sending.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ESTATE</code>
</td>
<td class="hdlist2">
<p>The context cannot send data in this state.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ETIMEDOUT</code>
</td>
<td class="hdlist2">
<p>The operation timed out.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph text-left">
<p><a href="nng_msg_alloc.3.html">nng_msg_alloc(3)</a>,
<a href="nng_ctx_open.3.html">nng_ctx_open(3)</a>,
<a href="nng_ctx_recvmsg.3.html">nng_ctx_recvmsg(3)</a>,
<a href="nng_ctx_send.3.html">nng_ctx_send(3)</a>,
<a href="nng_sendmsg.3.html">nng_sendmsg(3)</a>,
<a href="nng_strerror.3.html">nng_strerror(3)</a>,
<a href="nng_msg.5.html">nng_msg(5)</a>,
<a href="nng_ctx.5.html">nng_ctx(5)</a>,
<a href="nng.7.html">nng(7)</a></p>
</div>
</div>
</div>
</div>
</body>
</html>
