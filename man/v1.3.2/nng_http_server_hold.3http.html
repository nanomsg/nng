---
version: v1.3.2
layout: manpage_v2
---
<h1>nng_http_server_hold(3http)</h1>
<div class="sect1">
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>nng_http_server_hold - get and hold HTTP server instance</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span class="tok-cp">#include</span> <span class="tok-cpf">&lt;nng/nng.h&gt;</span><span class="tok-cp">
</span><span class="tok-cp">#include</span> <span class="tok-cpf">&lt;nng/supplemental/http/http.h&gt;</span><span class="tok-cp">
</span><span class="tok-cp"></span>
<span class="tok-kt">int</span> <span class="tok-nf">nng_http_server_hold</span><span class="tok-p">(</span><span class="tok-n">nng_http_server</span> <span class="tok-o">**</span><span class="tok-n">serverp</span><span class="tok-p">,</span> <span class="tok-k">const</span> <span class="tok-n">nng_url</span> <span class="tok-o">*</span><span class="tok-n">url</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>nng_http_server_hold()</code> acquires an instance of an HTTP server suitable
for use in serving the URL identified by <em>url</em>, and stores a pointer to it
at the location pointed to by <em>serverp</em>.</p>
</div>
<div class="paragraph">
<p>This function first looks to see if an existing HTTP server instance exists,
that is suitable for this.
If so, it increments the reference count on it and uses that.
Otherwise, it will attempt to create a new server instance
with an initial reference count of one (1).</p>
</div>
<div class="paragraph">
<p>The server instance is not started, and can have additional configuration
applied to it before it is later started with
<a href="nng_http_server_start.3http.html"><code>nng_http_server_start()</code></a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The URL matching logic in determining servers is unable to distinguish
between different aliases for the same local IP address.
This may create problems when using URLs for virtual hosting.
It is recommended to use canonical IP addresses or names in the
<em>url</em> to avoid confusion.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_return_values">RETURN VALUES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This function returns 0 on success, and non-zero otherwise.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_errors">ERRORS</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>NNG_ENOMEM</code>
</td>
<td class="hdlist2">
<p>Insufficient free memory exists.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ENOTSUP</code>
</td>
<td class="hdlist2">
<p>HTTP not supported.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph text-left">
<p><a href="nng_http_server_add_handler.3http.html">nng_http_server_add_handler(3http)</a>,
<a href="nng_http_server_release.3http.html">nng_http_server_release(3http)</a>,
<a href="nng_http_server_stop.3http.html">nng_http_server_stop(3http)</a>,
<a href="nng_url_parse.3.html">nng_url_parse(3)</a>
<a href="nng_strerror.3.html">nng_strerror(3)</a>,
<a href="nng.7.html">nng(7)</a></p>
</div>
</div>
</div>
