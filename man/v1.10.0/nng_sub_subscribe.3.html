---
version: v1.10.0
layout: manpage_v2
title: nng_sub_subscribe(3)
---
<h1>nng_sub_subscribe(3)</h1>
<div class="sect1">
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>nng_sub_subscribe - manage SUB subscriptions</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-cp">#include</span><span class="tok-w"> </span><span class="tok-cpf">&lt;nng/nng.h&gt;</span>
<span class="tok-cp">#include</span><span class="tok-w"> </span><span class="tok-cpf">&lt;nng/protocol/pubsub0/sub.h&gt;</span>

<span class="tok-kt">int</span><span class="tok-w"> </span><span class="tok-nf">nng_sub0_socket_subscribe</span><span class="tok-p">(</span><span class="tok-n">nng_socket</span><span class="tok-w"> </span><span class="tok-n">s</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-k">const</span><span class="tok-w"> </span><span class="tok-kt">void</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-n">buf</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kt">size_t</span><span class="tok-w"> </span><span class="tok-n">sz</span><span class="tok-p">);</span>

<span class="tok-kt">int</span><span class="tok-w"> </span><span class="tok-nf">nng_sub0_socket_unsubscribe</span><span class="tok-p">(</span><span class="tok-n">nng_socket</span><span class="tok-w"> </span><span class="tok-n">s</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-k">const</span><span class="tok-w"> </span><span class="tok-kt">void</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-n">buf</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kt">size_t</span><span class="tok-w"> </span><span class="tok-n">sz</span><span class="tok-p">);</span>

<span class="tok-kt">int</span><span class="tok-w"> </span><span class="tok-nf">nng_sub0_ctx_subscribe</span><span class="tok-p">(</span><span class="tok-n">nng_ctx</span><span class="tok-w"> </span><span class="tok-n">c</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-k">const</span><span class="tok-w"> </span><span class="tok-kt">void</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-n">buf</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kt">size_t</span><span class="tok-w"> </span><span class="tok-n">sz</span><span class="tok-p">);</span>

<span class="tok-kt">int</span><span class="tok-w"> </span><span class="tok-nf">nng_sub0_ctx_unsubscribe</span><span class="tok-p">(</span><span class="tok-n">nng_ctx</span><span class="tok-w"> </span><span class="tok-n">c</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-k">const</span><span class="tok-w"> </span><span class="tok-kt">void</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-n">buf</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kt">size_t</span><span class="tok-w"> </span><span class="tok-n">sz</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These functions are used to subscribe, or unsubscribe, message topics
on either the <a href="nng_sub.7.html"><em>sub</em></a> version 0 socket <em>s</em>,
or the <em>sub</em> version 0 context <em>c</em>.</p>
</div>
<div class="paragraph">
<p>Message topics are used to filter messages.  The first <em>sz</em> bytes of an
incoming message is compared against <em>buf</em>, and if equal the message
is accepted and will be available for receiving.</p>
</div>
<div class="paragraph">
<p>Multiple topics may be registered for the same socket or context, and
incoming messages will be forwarded to the application if any of the topics match.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To disable filtering altogether, the <em>buf</em> may be <code>NULL</code> if <em>sz</em> is zero.
In this case, all messages will be forwarded to the application.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
These functions should be used instead of the <code>NNG_OPT_SUB_SUBSCRIBE</code> and
<code>NNG_OPT_SUB_UNSUBSCRIBE</code> options.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_return_values">RETURN VALUES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These functions return 0 on success, and non-zero otherwise.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_errors">ERRORS</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>NNG_ENOMEM</code>
</td>
<td class="hdlist2">
<p>Insufficient memory is available.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ENOTSUP</code>
</td>
<td class="hdlist2">
<p>The protocol is not supported.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NNG_ENOENT</code>
</td>
<td class="hdlist2">
<p>The topic is not subscribed.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph text-left">
<p><a href="nng_socket.5.html">nng_socket(5)</a>,
<a href="nng_pub.7.html">nng_pub(7)</a>,
<a href="nng_sub.7.html">nng_sub(7)</a>,
<a href="nng.7.html">nng(7)</a></p>
</div>
</div>
</div>
